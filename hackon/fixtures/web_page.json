[
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": "",
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": null,
  "main_section": null,
  "main_section_html": "<head>\n<style>\n.card {\n  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n  transition: 0.3s;\n  width: 48%;\n  margin-left: 2%;\n}\n\n.card:hover {\n  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\n}\n\n.container {\n  padding: 16px;\n}\n</style>\n</head>\n<body>\n    <h2>Events</h2>\n    {% set events = frappe.db.get_all(\"Event\", filters={'published':1, 'status':'Open' }, fields=['name'], order_by='registration_starts_on desc') %}\n    <div class=\"row\">\n        {% for event in events %}\n            {% set doc = frappe.get_doc(\"Event\", event.name) %}\n    \t    <div class=\"card\">\n                <div class=\"container\">\n                    <h2><b> {{ doc.event_name }} </b></h2> \n                    <p> {{ doc.subject }} </p>\n                    <p>\n                        <b style=\"color:green\">Registration Starts On</b> : <b> {{ doc.registration_starts_on }} </b> |\n                        <b style=\"color:red\">Ends On</b> : <b> {{ doc.registration_ends_on }} </b>\n                    </p>\n                    <center>\n                        <a href=\"event-view/{{doc.name}}\">\n                            <button class=\"btn btn-primary\"> More info</button>\n                        </a>\n                    </center>\n                </div>\n            </div>\n        {% endfor %}\n    </div>\n</body>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2022-12-15 12:43:11.632592",
  "name": "events",
  "page_blocks": [],
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "published": 1,
  "route": "events",
  "show_sidebar": 1,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Events",
  "website_sidebar": "Participant Portal"
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": "",
  "css": "",
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 1,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 0,
  "header": null,
  "insert_style": 0,
  "javascript": null,
  "main_section": null,
  "main_section_html": "<head>\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\n<script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>\n<style>\n.card {\n  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n  transition: 0.3s;\n  width: 100%;\n}\n\n.card:hover {\n  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\n}\n\n.container {\n  padding: 16px;\n}\n</style>\n</head>\n<body>\n    {% set doc = frappe.get_doc(\"Event\", frappe.form_dict.docname) %}\n    <div class=\"card\">\n        <div class=\"container\">    \n            <h2><b> {{ doc.event_name }} </b></h2> \n            <p> {{ doc.subject }}</p>\n            <p>\n                <i class='far fa-calendar-alt'></i> &nbsp;&nbsp; {{ frappe.utils.getdate(doc.starts_on).strftime(\"%d-%b-%Y\") }} - {{ frappe.utils.getdate(doc.ends_on).strftime(\"%d-%b-%Y\") }}\n                &nbsp; | &nbsp;&nbsp; \n                <i class=\"fa fa-map-marker\" aria-hidden=\"true\"></i> &nbsp;&nbsp; {{ doc.venue }}\n            </p>\n            <p> {% if doc.description %} {{ doc.description }} {% endif %} </p>\n            <center>\n                <div class=\"row\">\n                  <div class=\"col-sm-5\"><b style=\"color:green\">Registration Starts on</b> : <b> {{ doc.registration_starts_on }} </b></div>\n                  <div class=\"col-sm-2\"> &nbsp; | &nbsp;</div>\n                  <div class=\"col-sm-5\"><b style=\"color:red\">Registration Ends on</b> : <b> {{ doc.registration_ends_on }} </b></div>\n                </div>\n                <!--<a href=\"/login#signup\">-->\n                <a href=\"/participant-registration\">\n                    <button class=\"btn btn-primary\" style=\"margin-top:10pt;;\"> Register </button>\n                </a>\n            </center>\n        </div>\n    </div>\n</body>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2022-12-15 16:25:01.815151",
  "name": "event-view",
  "page_blocks": [],
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "published": 1,
  "route": "event-view/<docname>",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Event View",
  "website_sidebar": ""
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": "context.user = frappe.get_doc('User', frappe.session.user )",
  "css": "table {\n  font-family: arial, sans-serif;\n  border-collapse: collapse;\n  width: 100%;\n}\n\ntd, th {\n  border: 1px solid #dddddd;\n  text-align: left;\n  padding: 8px;\n}\n#lab-test-template{\n    width: 200px;\n    bottom: 33px;\n    left: 160px;\n}\n#dates{\n    width: 150px;\n}\nbutton {\n  cursor: pointer;\n border-radius: 6px;\n}\n.pagination a {\n  color: black;\n  float: left;\n  padding: 8px 16px;\n  text-decoration: none;\n  transition: background-color .3s;\n}\n\n/* Style the active/current link */\n.pagination a.active {\n  background-color: dodgerblue;\n  color: white;\n}\n\n/* Add a grey background color on mouse-over */\n.pagination a:hover:not(.active) {background-color: dodgerblue;}\n\n#create{\n    width: 60px;\n    height: 30px;\n}\n\n.card {\n  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n  transition: 0.3s;\n  width: 48%;\n  margin-left: 2%;\n}\n\n.card:hover {\n  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\n}\n\n.container {\n  padding: 16px;\n}\n\n.page-card {\n\twidth: 50%;\n\tpadding: 15px;\n\tmargin: 70px auto;\n\tborder: 1px solid #d1d8dd;\n\tborder-radius: 4px;\n\tbackground-color: #fff;\n\tbox-shadow: 0px 3px 6px rgba(0, 0, 0, 0.1);\n}\n.page-card .page-card-head {\n\tpadding: 10px 15px;\n\tmargin: -15px;\n\tmargin-bottom: 15px;\n\tborder-bottom: 1px solid #d1d8dd;\n}\n.page-card .page-card-head .indicator {\n\tcolor: #36414C;\n\tfont-size: 14px;\n}\n.page-card .page-card-head .indicator::before {\n\tmargin: 0 6px 0.5px 0px;\n}\n.page-card .btn {\n\tmargin-top: 30px;\n\tmargin-bottom: 10px;\n\ttext-align:center;\n}\n.page-card p {\n\tfont-size: 14px;\n}",
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 1,
  "javascript": null,
  "main_section": null,
  "main_section_html": "<!DOCTYPE html>\n<html>\n    <body>\n        {% set perm_key = {'has_role': 0 } %}\n        {% for role_row in user.roles %}\n            {% if role_row.role == 'Event Requester' %}\n                {% if perm_key.update({'has_role': 1 }) %} {% endif %}\n            {% endif %}\n        {% endfor %}\n        {% if perm_key.has_role == 1 %}\n            <div class=\"row\">\n              <div class=\"col-sm-12\">\n                <h3>Event Request</h3>\n                <a href=\"/new-event-request\">\n                    <button id=\"create\" class=\"btn btn-primary btn-sm\" >New</button>\n                </a>\n                <div style=\"margin-top: 50px;\">\n                    <table class=\"frappe-control form-group\">\n                        <tr>\n                            <th class=\"text-center\">Sl No.</th>\n                            <th class=\"text-center\">ID</th>\n                            <th class=\"text-center\">Event Name</th>\n                            <th class=\"text-center\">Subject</th>\n                            <th class=\"text-center\">Starts on</th>\n                            <th class=\"text-center\">Status</th>\n                        </tr>\n                        {% set count = {'idx': 0 } %}\n                        {% set event_request_list = frappe.db.get_all(\"Event Request\", filters={ 'owner': frappe.session.user }, fields=['name'], order_by='start_on desc') %}\n                        {% for event_request in event_request_list %}\n                            {% if count.update({'idx': count.idx+1 }) %} {% endif %}\n                            {% set event_request_doc = frappe.get_doc(\"Event Request\", event_request.name) %}\n                            <tr>\n                                <td class=\"text-center\"> {{ count.idx }} </td>\n                                <td class=\"text-center\"> {{ event_request_doc.name }} </td>\n                                <td class=\"text-center\"> {{ event_request_doc.event_name }} </td>\n                                <td class=\"text-center\"> {{ event_request_doc.subject }} </td>\n                                <td class=\"text-center\"> {{ event_request_doc.start_on }} </td>\n                                <td class=\"text-center\"> {{ event_request_doc.workflow_state }} </td>\n                            </tr>\n                        {% endfor %}\n                    </table>\n                    <button class=\"btn btn-primary btn-submit\">Submit All</button>\n                </div>\n            </div>\n        {% else %}\n            <div class=\"row\">\n                <div class=\"page-card\">\n                \t<h5 class=\"page-card-head\">\n                \t\t<span class=\"indicator green\">\n                \t\t\tNot Permitted</span>\n                \t</h5>\n                \t<div class=\"page-card-body\">\n                \t\t<p>Participants are not allowed to Create Event Request. Please contact System Manager.</p>\n                \t\t<div class=\"text-center\">\n                \t\t    <a href=\"/events\" class=\"btn btn-primary btn-sm\">Events</a>\n                \t\t</div>\n                \t</div>\n                </div>\n            </div>\n        {% endif %}\n    </body>\n</html>\n\n<script>\nfrappe.ready(function() {\n    $('.btn-submit').off(\"click\").on(\"click\", function() {\n        doc = frappe.get_doc('User', frappe.session.user )\n        console.log(doc)\n        console.log('Clicked')\n    });\n});\n</script>\n",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2022-12-15 17:52:11.424217",
  "name": "event-requests",
  "page_blocks": [],
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "published": 1,
  "route": "event-requests",
  "show_sidebar": 1,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Event Requests",
  "website_sidebar": "Participant Portal"
 }
]